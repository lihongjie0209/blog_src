---
title: 优先队列
date: 2018-08-19 14:36:15
tags:
    - 数据结构
    - 队列
---

问: 什么是优先队列 ?

> 答: 一种泛化的队列, 普通队列的优先级都一样.

问: 如何实现优先队列 ?

> | 实现                       | 优点   | 缺点     |
> | -------------------------- | ------ | -------- |
> | 每次出队查找最大元素       | 入队快 | 出队太慢 |
> | 每次入队都维持队列的有序性 | 出队快 | 入队慢   |
> | 堆                         | 出队快 | 入队快   |
>
> 前两种方法的问题在于对于队列来说, 我们只需要维护队首元素是优先级最高的就可以, 没必要对整个队列排序

问: 什么是堆?

> 答: 堆是完全二叉树, 其中任意子节点都要小于父节点
>
> ![](http://liimg.oss-cn-shenzhen.aliyuncs.com/18-8-19/14699471.jpg)

问: 添加和删除元素如何保证堆的性质 ?

> ![1534661345420](C:\Users\ADMINI~1\AppData\Local\Temp\1534661345420.png)
>
> 每次添加元素都添加到数组的最后一位, 判断是否比它的父亲节点大, 如果比父亲节点大, 那么就交换, 接着判断.
>
> 每次删除元素, 首先用最后一个替代根节点, 保证完全二叉树的性质
>
> 然后开始下沉, 取两个子节点的最大值, 交换位置直到该节点满足了堆的性质
>
> ![1534661705536](C:\Users\ADMINI~1\AppData\Local\Temp\1534661705536.png)







